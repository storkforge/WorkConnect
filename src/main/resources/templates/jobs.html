<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="#{jobs.title}">Available Jobs</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">

<!-- HEADER -->
<header class="bg-white shadow px-6 py-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-blue-600" th:text="#{app.title}">WorkConnect</h1>
    <a th:href="@{/dashboard}" class="text-sm text-gray-600 hover:underline" th:text="#{jobs.dashboard}"></a>
    <a th:href="@{/logout}" class="text-sm text-gray-600 hover:underline" th:text="#{app.logout}"></a>
</header>

<!-- MAIN LAYOUT -->
<div class="max-w-6xl mx-auto grid grid-cols-12 gap-6 py-8 px-4">

    <!-- SIDEBAR -->
    <aside class="col-span-3 space-y-6 px-4">
        <!-- Profile box -->

        <!-- Profile Card -->
        <div class="bg-white p-6 rounded-2xl shadow hover:shadow-lg transition text-center">
            <div class="w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center text-gray-500 text-3xl">üë§</div>
            <p class="font-semibold" th:text="${user?.name}">Your Name</p>
            <p class="text-sm text-gray-500" th:text="${user?.email}">you@example.com</p>
        </div>

        <a href="/jobs/saved">‚≠ê View Saved Jobs</a>

        <!-- Articles -->
        <div class="bg-white p-4 shadow rounded">
            <h2 class="font-semibold mb-2" th:text="#{dashboard.articles}">üìö Job search websites:</h2>
            <ul class="text-sm list-disc list-inside">
                <li>
                    <a href="https://www.linkedin.com/jobs/jobs-in-gothenburg-sweden"
                       target="_blank"
                       class="text-blue-600 hover:underline">
                        LinkedIn
                    </a>
                </li>
                <li>
                    <a href="https://jobbland.se/lediga-jobb"
                       target="_blank"
                       class="text-blue-600 hover:underline">
                        Jobbland
                    </a>
                </li>
            </ul>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="col-span-9 bg-white p-6 rounded shadow">
        <div class="space-y-4">
            <!-- Jobs Section -->
            <section class="bg-white p-6 rounded-lg shadow">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold text-gray-800" th:text="#{jobs.available}">Available Jobs</h2>
                    <a href="/jobs/jobregistration" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm" th:text="'+ ' + #{jobs.register}">+ Register New Job</a>
                </div>
                <div class="space-y-4">
                </div>

                    <!-- Boarder around the list of jobs  -->
                    <div class="bg-gray-50 p-4 rounded border border-gray-200 flex justify-between items-center">

                    <ul>
                        <li th:each="job : ${jobs}">
                            <h2 th:text="${job.jobTitle}">Job Title</h2>
                            <p><strong>Company:</strong> <span th:text="${job.companyName}">Company Name</span></p>
                            <p><strong>Location:</strong> <span th:text="${job.location}">Location</span></p>
                            <p><strong>Description:</strong> <span th:text="${job.jobDescription}">Description</span></p>
                            <p><strong>Terms:</strong> <span th:text="${job.termsOfEmployment}">Terms</span></p>

                            <!-- Save Button -->
                            <form th:action="@{'/jobs/save/' + ${job.id}}" method="post" style="display:inline;">
                                <button type="submit">‚ù§Ô∏è Save</button>
                                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                            </form>

                            <!-- Apply Button -->
                            <form th:action="@{'/jobs/apply/' + ${job.id}}" method="post" style="display:inline;">
                                <button type="submit">üöÄ Apply</button>
                                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                            </form>

                            <hr>
                        </li>
                    </ul>
                    </div>
            </section>
        </div>
    </main>
</div>

<!--FOOTER-->
<footer class="bg-white py-8 shadow-inner">
    <div class="mt-4 text-center text-sm">
        <a th:href="@{/jobs(lang=en)}" class="text-gray-600 hover:text-gray-900 mx-2" th:text="#{language.english}">üá¨üáß English</a>
        <span class="text-gray-400">|</span>
        <a th:href="@{/jobs(lang=sv)}" class="text-gray-600 hover:text-gray-900 mx-2" th:text="#{language.swedish}">üá∏üá™ Svenska</a>
    </div>
</footer>
</body>
</html>
